<div class="edit-request rtl p-6" *ngIf="!isLoading; else loading">
  <div class="page-header mb-6">
    <h1 class="title">تعديل الطلب</h1>
    <p class="subtitle">قم بتعديل بيانات الطلب ثم اضغط حفظ</p>
  </div>

  <div *ngIf="errorMessage" class="error-text">{{ errorMessage }}</div>

  <form *ngIf="request && !errorMessage" (ngSubmit)="onSubmit()" class="request-form">

    <!-- الاسم -->
    <div class="form-row">
      <div class="form-group">
        <label>الاسم الأول</label>
        <input type="text" [(ngModel)]="request.first_name" name="first_name" required />
      </div>
      <div class="form-group">
        <label>الاسم الأخير</label>
        <input type="text" [(ngModel)]="request.last_name" name="last_name" required />
      </div>
    </div>

    <!-- البريد والهاتف -->
    <div class="form-row">
      <div class="form-group">
        <label>البريد الإلكتروني</label>
        <input type="email" [(ngModel)]="request.email" name="email" required />
      </div>
      <div class="form-group">
        <label>الهاتف</label>
        <input type="tel" [(ngModel)]="request.phone" name="phone" required />
      </div>
    </div>

    <!-- الرسالة -->
    <div class="form-group">
      <label>الرسالة</label>
      <textarea [(ngModel)]="request.message" name="message" rows="4"></textarea>
    </div>

    <div class="form-actions">
      <button type="button" class="btn-secondary" (click)="onCancel()">إلغاء</button>
      <button type="submit" class="btn-primary">حفظ التعديلات</button>
    </div>

  </form>
</div>

<ng-template #loading>
  <p class="loading-text">جار تحميل بيانات الطلب...</p>
</ng-template>
